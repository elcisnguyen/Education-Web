<hr>

<div class="container">
    <div class="row" style="width: 90%; margin: 0 auto;">
        {{#if is_teacher}}
            <div class="col-2">
                <h4>New lecturer account</h4>
                <form action="" method="post" name="login">
                    <div class="form-group mb-sm-2">
                        <input type="text" name="name"  class="form-control my-input" id="name" placeholder="Name">
                    </div>
                    <div class="form-group mb-sm-2">
                        <input type="email" name="email"  class="form-control my-input" id="email" placeholder="Email">
                    </div>
                    <div class="form-group mb-sm-2">
                        <input type="password" name="password" id="phone"  class="form-control my-input" placeholder="Password">
                    </div>
                    <div class="text-center ">
                        <button type="submit" class=" btn btn-info text-light">Create</button>
                    </div>
                </form>
            </div>
        {{/if}}

        <div class="col">
            {{#if credentials}}
                {{#each credentials}}
                    <div class="search-result-item">
                        <div class="search-result-item-body">
                            <div class="row">
                                <div class="col-3">
                                    <a href="#"><img class="img-fluid" src="{{this.ava_link}}" alt=""></a>
                                </div>
                                <div class="col-6">
                                    <h4 class="search-result-item-heading"><a href="#">{{this.fullname}}</a></h4>
                                    <span class="field">Username: {{this.username}}</span>
                                    <p>Email: {{this.email}}</p>
                                    {{#unless this.is_confirmed}}<span class="field" style="color: red !important; font-weight: bold">Account not confirmed</span><br>{{/unless}}
                                    <span class="badge {{#if ../is_student}}bg-info{{else}}bg-success{{/if}} fw-bold">{{#if ../is_student}}Student{{else}}Lecturer{{/if}}</span>
                                    <div style="margin-top: 2rem;">
                                        <button id="{{this.randomID}}" data-action="/admin/{{#if ../is_student}}student{{else}}teacher{{/if}}/{{this.username}}/{{#if this.disabled}}unblock{{else}}block{{/if}}" type="button" class="btn {{#if this.disabled}}btn-primary{{else}}btn-danger{{/if}} btn-lg rounded-pill fw-bold text-light">{{#if this.disabled}}Unblock{{else}}Block{{/if}}</button>

                                        <script>
                                            $('#{{this.randomID}}').on('click', (e) => {
                                                $.ajax({
                                                    url: $('#{{this.randomID}}').data('action'),
                                                    type: 'POST',
                                                    async: false,
                                                })
                                                location.reload()
                                            })
                                        </script>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                {{/each}}
            {{else}}
                <div style="text-align: center;">
                    <p>No account to show.</p>
                </div>
            {{/if}}
        </div>

        <nav class="pagination-margin">
            <ul class="pagination pagination-lg justify-content-center">
                <li class="page-item {{#unless this.courses}}disabled{{/unless}} {{#if this.is_first}}disabled{{/if}}">
                    <a class="page-link" href="?page={{this.prev_page}}{{#if this.sort}}&sort={{this.sort}}{{/if}}">Previous</a>
                </li>
                {{#each page_numbers}}
                    <li class="page-item {{#if this.isCurrentPage}}disabled{{/if}}">
                    <a class="page-link active" href="{{#unless this.isCurrentPage}}?page={{value}}{{#if ../sort}}&sort={{../sort}}{{/if}}{{/unless}}">{{this.value}}</a>
                    </li>
                {{/each}}
                <li class="page-item {{#unless this.courses}}disabled{{/unless}} {{#if this.is_last}}disabled{{/if}}">
                    <a class="page-link" href="?page={{this.next_page}}{{#if this.sort}}&sort={{this.sort}}{{/if}}">Next</a>
                </li>
            </ul>
        </nav>
    </div>
</div>

<hr>
